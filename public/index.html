<!DOCTYPE html>
<html lang="en" ng-app="MyApp">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.9/angular.min.js" charset="utf-8"></script>
  <script src="js/app.js" charset="utf-8"></script>
  <link rel="stylesheet" href="css/main.css">
  <!-- <link rel="stylesheet" href="/css/app.css"> -->
</head>

<body ng-controller="MyController as ctrl" style="text-align: center; margin: auto;">

  <h1>Neighbor Hate</h1>

  <h2>Haters gonna hate</h2>

  <!-- LOGIN INFROMATION -->
  <section ng-if="ctrl.loggedInUser==false">

    <form ng-submit="ctrl.signup()" style="width:50%; margin:auto;">
      
      <fieldset>
        <legend style="margin: auto;">
          <h3>Sign Up</h3>
        </legend>
        Username: <input type="text" ng-model="ctrl.signupUsername" /><br /><br>
        Password: <input type="password" ng-model="ctrl.signupPassword" /><br /><br>
        <input type="submit" value="Start Hating">
      </fieldset>
    </form>
    <br>
    <br>
   <form ng-submit="ctrl.login()">
    <legend>
      <h3>Log In</h3>
    </legend>
        Username: <input type="text" ng-model="ctrl.logInUsername" /><br /><br>
        Password: <input type="password" ng-model="ctrl.logInPassword" /><br /><br>
        <input type="submit" value="Resume Hating">
      </form>
  </section>
  <!--=============== AFTER USER LOGS IN ``````````````````````````````````````````````````````````````````````````````````` ========================== -->
  <section ng-if="ctrl.loggedInUser!==false">
    <p>The place where you come to hate on your neighbors! Cause... damn they can be annoying sometimes! Tell us all the beef you have with yours!</p>

    <form ng-submit="ctrl.createHate()">
      <input type="text" ng-model="ctrl.area" placeholder="What area are you in?" /><br/>
      <input type="text" ng-model="ctrl.description" placeholder="Share your hate!" /><br/>
      <input type="submit" value="Create Hate">
    </form>

    <button ng-click="ctrl.logout()">Stop Hating</button>

    <div ng-repeat="hate in ctrl.hates" class="hatepost">
      <h4>{{hate.area}}</h4>
      <p>{{hate.description}}</p>
      <button ng-if="$index !== ctrl.indexOfEditFormToShow" ng-click="ctrl.indexOfEditFormToShow = $index" type="submit">Edit Hate</button>

      <form ng-if="$index === ctrl.indexOfEditFormToShow" ng-submit="ctrl.editHate(hate)">
        <input type="text" ng-model="ctrl.updatedArea" placeholder="What area are you in?" /><br/>
        <input type="text" ng-model="ctrl.updatedDescription" placeholder="Share your hate!"/><br/>
        <input type="submit" value="Update Hate" />
      </form>

      <button ng-click="ctrl.deleteHate(hate)" type="submit">Delete Hate</button>
    </div>
    <form ng-submit="ctrl.createHate()">
      <div>
        <p></p>
      </div>
    </form>
  </section>

</body>

</html>
